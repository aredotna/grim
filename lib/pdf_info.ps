% usage: gs -dNODISPLAY -q -sFile=____.pdf pdf_info.ps

/File where not {
  (\n   *** Missing input file name \(use -sFile=____.pdf\)\n) =
  (    usage: gs -dNODISPLAY -q -sFile=____.pdf [ options ] toolbin/pdf_info.ps\n) =
  () =
  flush
  quit
} if
pop      % discard the dict from where

/QUIET true def    % in case they forgot

% Get the width and height of a PDF page
%
/GetSize {
  pdfgetpage currentpagedevice
  1 index get_any_box
  exch pop dup 2 get exch 3 get
  /PDFHeight exch def
  /PDFWidth exch def
} def

%
% The main loop
% For every page in the original PDF file
%
1 1 PDFPageCount
{
  /PDFPage exch def
  PDFPage GetSize
  PDFPage pdfgetpage
  pdfshowpage
} for

() =
File dup (r) file runpdfbegin
/PDFPageCount pdfpagecount def
 PDFPageCount =print () =
flush
() =

quit
